#!/usr/bin/env python3
"""
Cron Agent launcher.
Simple wrapper that calls src/cron_agent.py.
"""

import sys
from pathlib import Path

# Get paths
root_dir = Path(__file__).parent
src_dir = root_dir / "src"
venv_python = src_dir / "venv" / "bin" / "python"

# Use venv Python if available, otherwise system Python
if venv_python.exists():
    import subprocess
    result = subprocess.run(
        [str(venv_python), str(src_dir / "cron_agent.py")] + sys.argv[1:],
        cwd=root_dir
    )
    sys.exit(result.returncode)
else:
    # Add src to path
    sys.path.insert(0, str(src_dir))
    
    # Change to root directory (for logs, config)
    import os
    os.chdir(root_dir)
    
    # Import and run
    import cron_agent
    cron_agent.main()
